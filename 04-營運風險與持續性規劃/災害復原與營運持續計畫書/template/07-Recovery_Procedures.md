# 柒、系統復原計畫

## 7.1 復原前準備項目

### 7.1.1 參與人員

以下人員應參與復原作業：

| 角色 | 姓名 | 聯絡電話 | 備註 |
|------|------|--------|------|
| 主指揮官 | | | |
| 系統管理員 | | | |
| 技術支援人員 | | | |
| 資安人員 | | | |

### 7.1.2 其它資源

#### 文件資源

- [ ] 本系統復原計畫文件
- [ ] 內部用系統管理文件
- [ ] 系統架構文件
- [ ] 組態管理檔案
- [ ] 密鑰與憑證

#### 技術資源

- [ ] 興創知能 MIS Gitlab 服務與代碼庫
- [ ] Amazon AWS 雲端服務存取權限
- [ ] 備份系統與備份檔案
- [ ] 虛擬化平台管理工具
- [ ] 監控工具與告警系統

#### 運營資源

- [ ] 興創知能辦公室網路連線
- [ ] VPN 存取
- [ ] 災難復原場所
- [ ] 應急通信設備
- [ ] 應急電源與冷卻

## 7.2 啟動時機及作業執行地點

### 7.2.1 啟動時機

BCP/DR 計畫應在以下情況啟動：

1. **系統完全無法服務**
   - 關鍵系統無法存取或響應
   - 所有備份服務均失效

2. **無法在 RTO 內恢復**
   - 故障診斷表明無法在預定時間內恢復
   - 需要啟動備用系統

3. **重大資料洩露或破壞**
   - 確認資料安全受到威脅
   - 需要隔離受影響系統

4. **第三方服務完全中斷**
   - 關鍵第三方服務無法恢復
   - 需要切換至備用服務

### 7.2.2 復原時間

| 優先級 | 系統 | RTO | RPO |
|--------|------|-----|-----|
| 1 | | ≤ 1 小時 | ≤ 5 分鐘 |
| 2 | | ≤ 4 小時 | ≤ 1 小時 |
| 3 | | ≤ 24 小時 | ≤ 4 小時 |

### 7.2.3 作業執行地點

#### 主要執行地點

- **辦公室**: 興創知能辦公室
- **地址**: [填寫地址]
- **工作時間**: [填寫時間]

#### 備用執行地點

- **備用辦公室**: [填寫地址]
- **遠端工作**: VPN 連線至公司網路
- **第三方 IDC**: [若有]

## 7.3 復原執行步驟

### 步驟 1：接收系統異常通報、問題釐清與處理作為判定

#### 目的

確認事件性質、範圍、嚴重度，決定是否啟動 DR 計畫。

#### 執行步驟

1. 接收事件通報
2. 快速評估事件：
   - 受影響系統
   - 影響範圍
   - 初步原因
3. 確定嚴重度級別
4. 記錄事件基本資訊
5. 決定啟動 DR 計畫
6. 通知相關人員

#### 預期時間

- 5 - 15 分鐘

#### 執行人員

- 值班人員
- 系統管理員
- 主指揮官

### 步驟 2：確認 VM 還原檔版本狀態

#### 目的

驗證可用的備份版本和狀態。

#### 執行步驟

1. 登錄備份管理系統
2. 檢查可用的 VM 快照/備份：
   - 備份時間
   - 備份版本
   - 備份完整性
3. 選擇合適的備份版本
4. 驗證備份檔案的可用性

#### 預期時間

- 10 - 20 分鐘

#### 執行人員

- 系統管理員
- 備份管理員

### 步驟 3：更新 VM 佈署腳本程式

#### 目的

準備和驗證佈署腳本，確保能夠部署最新的配置。

#### 執行步驟

1. 獲取最新的佈署腳本
2. 從 Gitlab 代碼庫檢查腳本版本
3. 驗證腳本配置參數
4. 測試腳本語法
5. 準備環境變數和配置檔案

#### 預期時間

- 15 - 30 分鐘

#### 執行人員

- 系統開發人員
- 系統管理員

### 步驟 4：執行 VM 佈署腳本

#### 目的

根據備份版本部署 VM，恢復系統運行環境。

#### 執行步驟

1. 准備佈署環境
2. 執行佈署腳本
3. 監控部署進度
4. 驗證部署結果
5. 檢查部署日誌

#### 預期時間

- 20 - 45 分鐘

#### 執行人員

- 系統管理員

### 步驟 5：VM 網路設定、遠端連線檢核與執行程式佈署腳本

#### 目的

配置網路、驗證遠端連線、部署應用程式。

#### 執行步驟

1. 配置 VM 網路設定：
   - IP 位址
   - DNS 伺服器
   - 網關
2. 驗證遠端連線（SSH/RDP）
3. 執行應用程式佈署腳本
4. 驗證應用程式部署

#### 預期時間

- 15 - 30 分鐘

#### 執行人員

- 系統管理員
- 系統開發人員

### 步驟 6：自動化整合測試

#### 目的

自動驗證系統關鍵功能、組件通信、資料完整性。

#### 執行步驟

1. 啟動自動化測試套件
2. 執行功能測試
3. 執行整合測試
4. 執行效能測試
5. 監控測試結果
6. 記錄測試報告

#### 預期時間

- 30 - 60 分鐘

#### 執行人員

- QA 人員
- 系統開發人員

### 步驟 7：人工端對端測試

#### 目的

由使用者或業務代表進行實際應用場景測試。

#### 執行步驟

1. 準備測試用例
2. 執行人工功能測試
3. 驗證業務流程
4. 測試使用者存取
5. 記錄測試結果
6. 確認系統可用性

#### 預期時間

- 30 - 60 分鐘

#### 執行人員

- 業務代表
- 使用者
- 支援人員

### 步驟 8：復原作業結束會議

#### 目的

總結復原過程，確認系統恢復，溝通後續行動。

#### 執行步驟

1. 確認系統完全恢復
2. 回顧復原過程
3. 討論任何問題或異常
4. 確認後續監控計畫
5. 文件歸檔
6. 召開事後總結會議

#### 預期時間

- 30 - 45 分鐘

#### 執行人員

- 主指揮官
- 各部門代表

## 7.4 復原執行結果紀錄

### 7.4.1 復原執行完成說明

復原完成應記錄以下資訊：

- [ ] 復原開始時間
- [ ] 復原完成時間
- [ ] 實際 RTO
- [ ] 實際 RPO
- [ ] 復原成功狀態
- [ ] 恢復系統列表
- [ ] 已驗證功能
- [ ] 遺留問題

### 7.4.2 復原紀錄文件歸檔說明

所有復原文件應按以下方式歸檔：

```
records/recovery_executions/
├── YYYY-MM-DD_incident_XXXX/
│   ├── incident_report.md
│   ├── recovery_procedure.md
│   ├── test_results.md
│   ├── logs/
│   │   ├── deployment.log
│   │   ├── application.log
│   │   └── system.log
│   └── recovery_checklist.md
```

### 7.4.3 系統復原檢核清單

#### 基礎設施檢核

- [ ] VM 成功部署並啟動
- [ ] 網路連線正常
- [ ] 磁碟空間充足
- [ ] 記憶體配置正確
- [ ] 所有必要的儲存裝置已掛載

#### 應用系統檢核

- [ ] 應用程式成功部署
- [ ] 應用程式服務啟動
- [ ] 應用程式能正常響應請求
- [ ] 日誌輸出正常

#### 資料庫檢核

- [ ] 資料庫服務啟動
- [ ] 資料庫連線正常
- [ ] 資料完整性驗證通過
- [ ] 備份狀態正常

#### 功能檢核

- [ ] 主要業務功能可用
- [ ] 使用者可以登入
- [ ] 資料查詢正常
- [ ] 資料修改/新增正常
- [ ] 報表生成正常

#### 性能檢核

- [ ] 應用程式響應時間正常
- [ ] 資料庫查詢效能正常
- [ ] 系統 CPU/記憶體使用率正常
- [ ] 網路流量正常

#### 安全檢核

- [ ] SSL/TLS 證書有效
- [ ] 存取控制正常
- [ ] 審計日誌記錄正常
- [ ] 無安全告警

#### 監控與告警檢核

- [ ] 監控系統正常運行
- [ ] 告警機制正常
- [ ] 儀表板資訊準確
- [ ] 日誌聚合正常

#### 執行日期欄位

| 檢核項目 | 檢核者 | 檢核日期 | 檢核結果 | 備註 |
|--------|--------|--------|--------|------|
| 基礎設施 | | | [通過/失敗] | |
| 應用系統 | | | [通過/失敗] | |
| 資料庫 | | | [通過/失敗] | |
| 功能 | | | [通過/失敗] | |
| 性能 | | | [通過/失敗] | |
| 安全 | | | [通過/失敗] | |
| 監控與告警 | | | [通過/失敗] | |

## 7.5 核准與簽核

| 角色 | 姓名 | 簽章 | 日期 |
|------|------|------|------|
| 系統開發主持人 | | | |
| IT 主管 | | | |

---

**文件編號**: BCP-REC-001  
**版本**: 1.0  
**最後更新**: YYYY-MM-DD
